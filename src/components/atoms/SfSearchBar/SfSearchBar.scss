@import '../../../css/variables';

$sf-search-bar-background-primary: $c-light-primary !default;
$sf-search-bar-background-secondary: $c-light-secondary !default;
$sf-search-bar-placeholder-color: $c-dark-primary !default;
$sf-search-bar-placeholder-color-focus: $c-gray-primary !default;
$sf-search-bar-width: 20rem !default;
$sf-search-bar-height: 2.25rem !default;
$sf-search-bar-border-radius: 1.6875rem !default;
$sf-search-bar-text-align: center !default;
$sf-search-bar-font-size: 0.875rem !default;

@mixin placeholder {
    &::-webkit-input-placeholder {@content}
    &:-moz-placeholder           {@content}
    &::-moz-placeholder          {@content}
    &:-ms-input-placeholder      {@content}  
  }

  @mixin iconPosition {
    flex-direction: row;
    .sf-search-bar__input {
        &::placeholder {
            text-align: left;
        }
    }
  }

  @mixin clearBtn {
    background-image: var(--clear-btn);
    -webkit-appearance: none;
    width: .7rem;
    height: .7rem;
    background-size: cover;
    display: block;
  }

.sf-search-bar {
    background-color: $sf-search-bar-background-primary;
    border-radius: $sf-search-bar-border-radius;
    width: 100%;
    padding: 0 0.9375rem;
    height: $sf-search-bar-height;
    display: flex;
    flex-direction: row-reverse;
    align-items: center;
    box-sizing: border-box;

    @media (min-width: $mobile-max) {
        width: $sf-search-bar-width;
    }
    &--secondary {
        background-color: $sf-search-bar-background-secondary;
    }
    &--position-right {
        @include iconPosition();
    }
    &--position-right-mobile {
        @media (max-width: $mobile-max) {
            @include iconPosition();
            }
        }
    &--position-right-desktop {
          @media (min-width: $mobile-max) {
              @include iconPosition();
            }
        }
    
    .sf-search-bar__input {    
        border: none;
        flex-grow: 1;
        background: transparent;
        text-align: center;
        outline: none;
        font-size: $sf-search-bar-font-size;
        
        @include placeholder {
            color: $sf-search-bar-placeholder-color;
            transition: color 0.2s ease-in;
        }
        &:focus {
            @include placeholder {
                color: $sf-search-bar-placeholder-color-focus;
            }  
        }
        &,
        &::-webkit-search-cancel-button
        {
            @include clearBtn();
        }
        &::-ms-clear {
            @include clearBtn();
        }
    }
}